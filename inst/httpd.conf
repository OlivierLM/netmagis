# $Id: httpd.conf,v 1.3 2008-03-25 13:59:30 pda Exp $

ScriptAlias "/applis/dns/bin/" "/local/services/www/applis/dns/bin/"

<Directory /local/services/www/applis/dns>
    # Authentification PostgreSQL
    Include auth-pgsql.conf

    # Authentification LDAP
    Include auth-ldap.conf

    # Attention : adaptez les groupes ci-dessous en conséquence
    # Ici : sont autorisés les groupes "osiris" (correspondants réseau
    #    Osiris) et "crc" (personnels du CRC)
    require             group osiris crc

    # si vous avez une page prévue pour signaler les erreurs, mettez-la ici
    ErrorDocument       401 /errauth/cor.html
</Directory>

<Directory /local/services/www/applis/dns/lib>
    order deny,allow
    deny from all
</Directory>

Alias "/applis/dns" "/local/services/www/applis/dns"

#
# Pour effectuer en une seule opération
# - l'accès via l'url /applis/dns, qui redirige en réalité vers un script
# - les redirections vers HTTPS
#
RedirectMatch permanent ^/applis/dns/$ https://www-crc.u-strasbg.fr/applis/dns/bin/accueil
RedirectMatch permanent ^/applis/dns/index.html$ https://www-crc.u-strasbg.fr/applis/dns/bin/accueil
